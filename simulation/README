
Run simulation:

ngspice sim.cir
...
ngspice 3 -> write sim.raw all


Check output:

user@pc:~/powermod-54260/simulation$ head -n 30 sim.raw
Title: * tps54260 dc-dc converter simulation
Date: Fri Sep  6 14:59:30  2024
Plotname: Transient Analysis
Flags: real
No. Variables: 5
No. Points: 6000001
Variables:
	0	time	time
	1	v(+5v)	voltage
	2	i(@l1[i])	current
	3	i(@rload[i])	current
	4	v(ph)	voltage
Values:
 0	0.000000000000000e+00
	1.520601083746033e-01
	1.438748980714795e+00
	7.603005418730167e-02
	-3.968876981859205e-01

 1	1.000000000000000e-09
	1.520737353007567e-01
	1.438712383731758e+00
	7.603686765037837e-02
	-3.968866761110532e-01

 2	2.000000000000000e-09
	1.520873617928434e-01
	1.438675785908501e+00
	7.604368089642169e-02
	-3.968856539997464e-01
...


Load in octave and plotting i(@l1[i]) :

user@pc:~/powermod-54260/simulation$ octave-cli
...
octave:1> k=spice_readfile("sim.raw");
warning: using continuation marker \ outside of double quoted strings was deprecated in version 7 and will be removed from a future version of Octave, use ... instead; near line 162 of file '/home/vladimir/lsi/code/powermod-54260/simulation/spice_readfile.m'

s =

  scalar structure containing the fields:

    no_points = 0
    no_variables = 0
    dimensions = 0
    commands = {}(0x0)
    options = {}(0x0)
    title = * tps54260 dc-dc converter simulation
    date = Wed Sep  4 09:51:48  2024
    plotname = Transient Analysis

octave:2> plot(k(:,0))
error: k(_,0): subscripts must be either integers 1 to (2^63)-1 or logicals
octave:3> plot(k(:,3))
